# Micro Spatial Data Infrastructure

this project allows a 2 minute deployiment of a modern spatial data infrastructure based on QGIS server, PostGis DB and Caddy webserver.

It comes with Docker-compose and Docker swarm examples. it listens by default to `https://localhost` and uses autogenerated certificates. 

If you want to publish it to a domain, you can modify the Caddyfile by changing `localhost` to your domain and by deleting the `local_certs` line

## Running
Start with: `docker-compose up -d`

destroy with: `docker-compose down`

## Endpoints
- `/` Publishes whatewer is found in the `www` folder
- `/ows/` Exposes the OGC services of QGIS server
- `/wfs3/` Exposes the OGCAPIF (not completely working)

## Demo
The included demo project can be found at `https://localhost/ows/bees` it exposes WMS, WMTS and WFS.

## Publishing own projects
To publish a project, add it to the .qgs file (not .qgz) `/data/projects/` folder. The project will automatically be available at `https://localhost/ows/projectname` 

## PostGIS DB
The included PostGIS DB has a database called `gis`, listens on port `5432` and the user and password are `docker`. Obviously this in not production-ready!
